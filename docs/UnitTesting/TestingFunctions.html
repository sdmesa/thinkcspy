<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>20.3. Testing Functions &#8212; How to Think like a Computer Scientist: Interactive Edition</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presenter_mode.css?v=9FF1320F" />
    <link rel="stylesheet" type="text/css" href="../_static/jquery-ui-1.10.3.custom.min.css?v=97E0178A" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/user-highlights.css?v=A2326E52" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone-custom-sphinx-bootstrap.css?v=5.5.5" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-overrides.css?v=2DAFE138" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/pytutor-embed.bundle.js?v=268B5C04"></script>
    <script src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script src="../_static/animationbase.js?v=A043C3A7"></script>
    <script src="../_static/html4css1.css?v=4533ACD3"></script>
    <script src="../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script src="../_static/sql-wasm.js?v=D71B5933"></script>
    <script src="https://cdn.jsdelivr.net/npm/handsontable@7.2.2/dist/handsontable.full.js"></script>
    <script src="../_static/webglinteractive.js?v=2B768384"></script>
    <script src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script src="../_static/Blob.js?v=AEC2447"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.bidi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.emitter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.fallbacks.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.messagestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.parser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.i18n/1.0.5/jquery.i18n.language.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script src="../_static/runestone.js?v=92D8BBF0"></script>
    <script src="../_static/jquery-ui-1.10.3.custom.min.js?v=2B07FE4F"></script>
    <script src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
    <script src="../_static/jquery-fix.js?v=1226591B"></script>
    <script src="../_static/bootstrap-sphinx.js"></script>
    <script src="../_static/jquery.idle-timer.js?v=E942DAF1"></script>
    <script src="../_static/presenter_mode.js?v=2DF16FB4"></script>
    <script src="../_static/theme.js?v=D899FB97"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="20.4. Designing Testable Functions" href="DesigningTestableFunctions.html" />
    <link rel="prev" title="20.2. Checking Assumptions With assert" href="CheckingAssumptionsWithAssert.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/{{ =request.application }}/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  
    
    eBookConfig.useRunestoneServices = true;
    eBookConfig.host = '';
    eBookConfig.app = eBookConfig.host + '/' + '{{= request.application }}';
    eBookConfig.course = '{{= course_name }}';
    eBookConfig.basecourse = '{{= base_course }}';
    eBookConfig.isLoggedIn = {{= is_logged_in}};
    eBookConfig.email = '{{= user_email }}';
    eBookConfig.isInstructor = {{= is_instructor }};
    eBookConfig.username = '{{= user_id}}';
    eBookConfig.readings = {{= readings}};
    eBookConfig.activities = {{= XML(activity_info) }}
    eBookConfig.downloadsEnabled = {{=downloads_enabled}};
    eBookConfig.allow_pairs = {{=allow_pairs}}
    
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 10;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '5.5.5';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;


</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->

    
        {{ if response.serve_ad and settings.adsenseid: }}
         <script data-ad-client="{{=settings.adsenseid}}" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        {{ pass }}
    



<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar" aria-label="navbar toggle" class="visuallyhidden">toggle navbar</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
          <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/{{ =request.application }}/default/user/login">&nbsp; </a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
            
            {{ =course_name }}
            
          
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>


        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span aria-label="Social" class="visuallyhidden">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span aria-label="Search" class="visuallyhidden">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <!-- user account dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-user" style="opacity:0.9;"><span aria-label="User" class="visuallyhidden">User</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><span class='loggedinuser'></span></li>
            <li class="divider"></li>
            <li><a href='/{{ =request.application }}/assignments/chooseAssignment.html'>Assignments</a></li>
            <li><a href='/{{ =request.application }}/assignments/practice'>Practice</a></li>
            <li class="divider"></li>
            
            <li><a href='/{{ =request.application }}/default/courses'>Change Course</a></li>
			      <li class="divider"></li>
            <li id="ip_dropdown_link"><a href='/{{ =request.application }}/admin/index'>Instructor's Page</a></li>
            
            <li><a href='/{{ =request.application }}/dashboard/studentreport'>Progress Page</a></li>
            <li class="divider"></li>
            
            <li><a href="/{{ =request.application }}/default/user/profile" id="profilelink">Edit Profile</a></li>
            <li><a href="/{{ =request.application }}/default/user/change_password" id="passwordlink">Change Password</a></li>
            <li><a href="/{{ =request.application }}/default/user/register" id="registerlink">Register</a></li>
            
            <li class='loginout'><a href='#'>Login</a></li> <!-- correct link populated by addNavbarLoginLink() -->
			<!-- dark mode toggle -->
             <li><label class="theme-switch" for="checkbox">
					  <input type="checkbox" id="checkbox" onchange="switchTheme()" />
							<div class="slider round"></div>
					</label>Dark Mode</li>
			 </ul>
        </li>
        <!-- end user account dropdown -->
        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:ACFactory.toggleScratchActivecode()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span aria-label="Scratch Activecode" class="visuallyhidden">Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span aria-label="Help" class="visuallyhidden">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/runestone/static/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/{{ =request.application }}/default/reportabug?course=thinkcspy&page=TestingFunctions'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
            <script>
</script>
<li class="dropdown globaltoc-container">
  <a href="../index.html"
     class="dropdown-toggle"
     data-toggle="dropdown" aria-label="index">This Chapter<b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc">
      
      {{ for row in subchapter_list: }}
        <li class=toctree-l1><a class="reference internal" href="{{= row['subchap_uri']}}">{{= row['title']}}</a></li>
      {{ pass }}
      
  </ul>
</li>
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">20.2. </span>Checking Assumptions With <code class="docutils literal notranslate"><span class="pre">assert</span></code>" data-toggle="tooltip">
    <a href="CheckingAssumptionsWithAssert.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">20.4. </span>Designing Testable Functions' data-toggle="tooltip" >              
    <a href="DesigningTestableFunctions.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

      </div> <!-- navbar -->







    </div> <!-- container -->
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">
<!-- Ad Serving for Runestone Campaign -->

    
        {{ if settings.num_banners > 0 and settings.show_rs_banner: }}
         <div style="width: 100%;">
            <a href="/runestone/default/donate?banner={{=banner_num}}">
            <img class="runestone-banner"
                 src="/runestone/static/images/RunestoneBanner{{=banner_num}}.png"
                 alt="Please Support Runestone"
                 style="display: block; width: 728px; margin-left: auto; margin-right: auto; margin-top: 10px;">
            </a>
         </div>
        {{ pass }}
    


  
  <div class="section" id="testing-functions">
<h1><span class="section-number">20.3. </span>Testing Functions<a class="headerlink" href="#testing-functions" title="Permalink to this headline">¶</a></h1>
<p>Melinda is writing a program that does some mathematical calculations. At the moment, she is working on adding some
functionality to her program that requires rounding numbers to the nearest integer. She would normally use the built-in
Python function <code class="docutils literal notranslate"><span class="pre">round</span></code> to do the job, but her program has a special requirement that numbers should be rounded up if
the fractional portion is .6 or greater, instead of the usual .5 or greater. So, Melinda decides to write a function that
rounds up numbers according to this requirement.</p>
<p>She defines a function <code class="docutils literal notranslate"><span class="pre">round6</span></code> to do the job:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">round6</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;returns num rounded to nearest int if fractional part is &gt;= .6&quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="o">.</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p>This function uses a valid approach to rounding, but is not quite correct (Melinda doesn’t realize it yet — can you
spot the bug?).</p>
<p>Now she needs to test the new code. There are two basic approaches Melinda could take to do her testing:</p>
<ol class="arabic simple">
<li><p>Put the function into the program, modify the program to call the function at the appropriate point, then run the program.</p></li>
<li><p>Test the function by itself, somehow.</p></li>
</ol>
<p>Which do you think will be more efficient?</p>
<p>Melinda’s program does complex mathematical calculations, and asks the user to enter 5 separate pieces of input before
performing the calculations. If she goes with option 1, each time she runs the program to test the function,
she must enter all 5 pieces of input. As you can imagine, that process is cumbersome and will not be very efficient.
Also, if the program output is incorrect, it may be difficult to determine whether the fault is in the new function,
or elsewhere in the program.</p>
<p>Melinda decides to write a separate, short program to help her test her new function. The test program is very simple
— it contains only her new function and a bit of code to get some input, pass it to the function, and display the
result. Here’s what she writes:</p>

<div class="runestone explainer ac_section alert alert-warning">
<div data-component="activecode" id=ac_round6_1 >
<div id=ac_round6_1_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="ac_round6_1_editor" data-question_label="20.3.1" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
    style="visibility: hidden;">
def round6(num):
    """returns num rounded to nearest int if fractional part is >= .6"""

    return int(num + .6)

# ----- test program -------

x = float(input('Enter a number:'))
result = round6(x)
print('Result: ', result)
</textarea>
</div>
</div>
<p>Before running the program, she jots down some test cases to help her in her testing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="n">Input</span>    <span class="n">Expected</span> <span class="n">Output</span>
              <span class="o">--------</span> <span class="o">---------------</span>
<span class="n">Test</span> <span class="n">Case</span> <span class="mi">1</span><span class="p">:</span>       <span class="mf">3.5</span>               <span class="mi">3</span>
<span class="n">Test</span> <span class="n">Case</span> <span class="mi">2</span><span class="p">:</span>       <span class="mf">3.6</span>               <span class="mi">4</span>
<span class="n">Test</span> <span class="n">Case</span> <span class="mi">3</span><span class="p">:</span>       <span class="mf">3.7</span>               <span class="mi">4</span>
</pre></div>
</div>
<p>Try running the program with the input values above. Notice that the output isn’t quite right.
Can you figure out how to correct the bug?</p>
<p>After analyzing her logic, Melinda corrects the bug by changing the return statement in the function as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="o">.</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>She runs the test program again to verify that the function is working correctly. Then, she copies the
<code class="docutils literal notranslate"><span class="pre">round6</span></code> function into her main program, confident that her rounding logic is correct.</p>
<p>The program Melinda wrote to help her test her round6 function is an example of a unit test.</p>
<div class="admonition-unit-test admonition">
<p class="admonition-title">Unit Test</p>
<p>A <strong>unit test</strong> is code that tests a function to determine if it works properly.</p>
</div>
<p>A unit test program like this one can dramatically reduce the effort it takes to test a new function, and can reduce the
overall effort involved in adding functionality to a program. The savings tradeoff depends on the amount of effort
required to write the test program, compared to the amount of effort required to test the function in the context of the
main program for which the new function is being developed. Here, the function was relatively simple, and it probably
wouldn’t have taken Melinda too many iterations of testing the function in the context of the main program, with its
five pieces of input. In this scenario, Melinda may not have saved much effort. However, if the function were more
complex, writing a unit test would probably have helped reduce the overall effort. And, using some tricks I’ll show you
in the next sections, you can reduce the amount of effort required to write and run the unit test, making the case for
writing unit tests even more compelling.</p>
<div class="section" id="automated-unit-tests">
<h2><span class="section-number">20.3.1. </span>Automated Unit Tests<a class="headerlink" href="#automated-unit-tests" title="Permalink to this headline">¶</a></h2>
<p>The unit test program above is a manual unit test. A <strong>manual unit test</strong> gets input from the user, invokes the code
under test, providing the input supplied by the user, and displays the result. (In our example, <code class="docutils literal notranslate"><span class="pre">round6</span></code> is the code
under test.) Manual unit tests are helpful, but they can be improved in two ways:</p>
<ol class="arabic simple">
<li><p>We can embed the test input directly within the unit test code, so the person running the test doesn’t have to
come up with the test input or take the time to enter it.</p></li>
<li><p>We can make the unit test report success or failure, instead of requiring the person running the test to
look at the output and determine whether the function worked correctly.</p></li>
</ol>
<p>We call a unit test that contains its own test input and produces a clear pass/fail indication an <strong>automated
unit test</strong>. Take a look at the following example:</p>

<div class="runestone explainer ac_section alert alert-warning">
<div data-component="activecode" id=ac_round6_2 >
<div id=ac_round6_2_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="ac_round6_2_editor" data-question_label="20.3.1.1" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
    style="visibility: hidden;">
def round6(num):
    return int(num + .4)

# ---- automated unit test ----

result = round6(9.7)
if result == 10:
    print("Test 1: PASS")
else:
    print("Test 1: FAIL")

result = round6(8.5)
if result == 8:
    print("Test 2: PASS")
else:
    print("Test 2: FAIL")
</textarea>
</div>
</div>
<p>This automated unit test invokes the <code class="docutils literal notranslate"><span class="pre">round6</span></code> function on predetermined test input, checks that the function produced the
expected result, and displays a pass / fail message. Run it to see the test PASS messages.</p>
<p>Try editing the round6 function above to introduce Melinda’s original bug, then run it again to see the failure message.
Notice the big advantage of an automated unit test: you can change the function being tested, run the unit test,
and immediately see the test results for a whole series of tests. No hand-entry of test data, and no interpretation of the
results. Clearly, once you have the test written, you can dramatically speed up your edit-test-debug cycle. The downside,
of course, is that the unit test program itself takes more time to develop.</p>
</div>
<div class="section" id="automated-unit-tests-with-assert">
<h2><span class="section-number">20.3.2. </span>Automated Unit Tests with <code class="docutils literal notranslate"><span class="pre">assert</span></code><a class="headerlink" href="#automated-unit-tests-with-assert" title="Permalink to this headline">¶</a></h2>
<p>To help reduce the amount of effort required to develop an automated unit test, let’s bring the <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement into
play. We can replace each <code class="docutils literal notranslate"><span class="pre">if</span></code> statement in the program above with an assert, as in the program below:</p>

<div class="runestone explainer ac_section alert alert-warning">
<div data-component="activecode" id=ac_round6_3 >
<div id=ac_round6_3_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="ac_round6_3_editor" data-question_label="20.3.2.1" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
    style="visibility: hidden;">
def round6(num: float) -> int:
    return int(num + .4)

# ---- automated unit test ----

result = round6(9.7)
assert result == 10

result = round6(8.5)
assert result == 8

print("All tests passed!")
</textarea>
</div>
</div>
<p>Try running the program above to see the success message. Then, try altering the <code class="docutils literal notranslate"><span class="pre">round6</span></code> function to reintroduce the original
bug, and see how the assertion failure pinpoints that the second test failed.</p>
<p>We can streamline this program even further by eliminating the <code class="docutils literal notranslate"><span class="pre">result</span></code> variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">round6</span><span class="p">(</span><span class="mf">9.7</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span>
<span class="k">assert</span> <span class="n">round6</span><span class="p">(</span><span class="mf">8.5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All tests passed!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is Really Nice. We have a short test program that contains its own test input and displays an automated pass or
fail indication.  Writing this program takes very little effort. We have the benefits of an automated test without
having to write much code. Unit test programs are essentially “throw-away” programs that are used only during
development, and it’s important that they can be developed quickly and easily.</p>
</div>
<div class="section" id="unit-tests-can-have-bugs">
<h2><span class="section-number">20.3.3. </span>Unit Tests can have bugs<a class="headerlink" href="#unit-tests-can-have-bugs" title="Permalink to this headline">¶</a></h2>
<p>Unit tests, like the functions they test, can have bugs. So, when you run a unit test and it fails with an assert error,
one of the first questions you need to ask yourself is: “Is the unit test correct?” If the unit test is incorrect, then
you need to correct it, rather than spending time trying to find the bug in the function that the unit test is testing.</p>
<p>For example, consider the following assert:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">round6</span><span class="p">(</span><span class="mf">9.2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span>
</pre></div>
</div>
<p>This unit test is incorrect, because <code class="docutils literal notranslate"><span class="pre">round6</span></code> should produce the value 9, not 10, when given the parameter <code class="docutils literal notranslate"><span class="pre">9.2</span></code>.</p>
<p><strong>Check your understanding</strong></p>

            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-question_label="20.3.3.1" data-multipleanswers="false"  id="mc_testfunc_1"  style="visibility: hidden;">
            <p>testfunc-1-4: Rewrite the following 3 lines of code with a single assert:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">engage_thruster</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="s1">&#39;OK&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test 2: FAIL&quot;</span><span class="p">)</span>
</pre></div>
</div>

            <li data-component="answer"  id="mc_testfunc_1_opt_a">assert result != 'OK'</li><li data-component="feedback">Incorrect. The assert should call the engage_thruster function. Try again.</li>
            
            <li data-component="answer"  id="mc_testfunc_1_opt_b">assert engage_thruster(22) == result</li><li data-component="feedback">Incorrect. The assert should not assume the presence of a variable named result.</li>
            
            <li data-component="answer"  id="mc_testfunc_1_opt_c">assert engage_thruster(22) != 'OK'</li><li data-component="feedback">Incorrect. This assert calls the engage_thruster function with the correct parameter, but interprets the result differently from the if statement provided.</li>
            
            <li data-component="answer" data-correct id="mc_testfunc_1_opt_d">assert engage_thruster(22) == 'OK'</li><li data-component="feedback">Correct! This assert checks that the result of invoking engage_thruster(22) is the value 'OK'.</li>
            

            </ul>
            </div>
            
            <div class="runestone alert alert-warning">
            <ul data-component="multiplechoice" data-question_label="20.3.3.2" data-multipleanswers="false"  id="mc_testfunc_2"  style="visibility: hidden;">
            <p>testfunc-1-5: Consider the following function which is supposed to return the first character of its argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_first</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">msg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Now, consider this unit test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">get_first</span><span class="p">(</span><span class="s1">&#39;Bells&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;B&#39;</span>
</pre></div>
</div>
<p>This assertion fails. Is the unit test in error, or the function it is testing?</p>

            <li data-component="answer"  id="mc_testfunc_2_opt_a">Unit test</li><li data-component="feedback">Incorrect. The assertion correctly checks that get_first should return the first character in 'Bells', 'B'.</li>
            
            <li data-component="answer" data-correct id="mc_testfunc_2_opt_b">Tested function</li><li data-component="feedback">Correct. The function code returns the second character of the parameter, not the first.</li>
            
            <li data-component="answer"  id="mc_testfunc_2_opt_c">Both are in error</li><li data-component="feedback">Incorrect. The assertion correctly checks that get_first should return the first character in 'Bells', 'B'.</li>
            
            <li data-component="answer"  id="mc_testfunc_2_opt_d">Both are correct</li><li data-component="feedback">Incorrect. The function code returns the second character of the parameter, not the first.</li>
            

            </ul>
            </div>
            </div>
</div>


  <div id=scprogresscontainer>
    You have attempted <span id=scprogresstotal></span> of <span id=scprogressposs></span> activities on this page <div id="subchapterprogress"></div>
  </div>
  
      
<ul>
  <li id="relations-prev" style="opacity:0.4" onmouseover="mouseOverPrev()" onmouseout="mouseOutPrev()"class="navLink" title='Previous Section - 20.2. Checking Assumptions With  assert ' data-toggle="tooltip">
    <a href="CheckingAssumptionsWithAssert.html" aria-label="20.2. Checking Assumptions With  assert ">
        <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
            <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
        </div>
    </a>
  </li>
</ul>

  
<ul>
  <li id="relations-next" style="opacity:0.4" onmouseover="mouseOverNext()" onmouseout="mouseOutNext()" class="navLink" title='Next Section - 20.4. Designing Testable Functions' data-toggle="tooltip" >
    <a href="DesigningTestableFunctions.html" aria-label="20.4. Designing Testable Functions">
      <div style="background-color: white; border-style:solid; border-color:lightgrey; border-width:2px; width:100px; height:50px">
          <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
      </div>
    </a>
  </li>
</ul>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>

<script>
	function mouseOverPrev() {
		document.getElementById("relations-prev").style.opacity=1;
	}

	function mouseOutPrev() {
		document.getElementById("relations-prev").style.opacity=0.4;
	}
	function mouseOverNext() {
		document.getElementById("relations-next").style.opacity=1;
	}

	function mouseOutNext() {
		document.getElementById("relations-next").style.opacity=0.4;
	}
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      
      <span id='numuserspan'></span><span class='loggedinuser'></span>
      
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014 Brad Miller, David Ranum, Created using Runestone Interactive.
      Last updated on Nov 13, 2021.<br/>
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 5.5.5.
    </p>
  </div>
</footer>



  
    {{ if request.application == 'runestone':}}
      <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', '{{ =settings.google_ga }}']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
    {{ pass }}
  

  
    <script type="application/json" class="js-hypothesis-config">
    {
      "showHighlights": false
    }
    </script>

    <script async src="https://hypothes.is/embed.js"></script>

  


<script> getSwitch(); </script>


  </body>
</html>